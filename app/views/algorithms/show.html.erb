<h3><I><%= @algorithm.name %></I> <small><%= link_to 'Edit', edit_algorithm_path(@algorithm) %></small></h3>

<table class="table">
  <tr>
    <th>Description</th>
    <th>Enroll.exe</th>
    <th>Match.exe</th>
  </tr>
  <tr>
    <td><%= @algorithm.description %></td>
    <td><%= link_to 'Download', @algorithm.enroll_exe_url %></td>
    <td><%= link_to 'Download', @algorithm.match_exe_url %></td>
  </tr>
</table>

<h4>Tasks under <I><%= @algorithm.name %></I></h4>
<table class="table">
  <tr>
    <th>Name</th>
    <th>Score</th>
    <th>Progress</th>
    <th>Finished</th>
    <th>Created</th>
    <th>Runner</th>
  </tr>

  <% @algorithm.tasks.each do |task| %>
    <tr>
      <td><%= link_to task.name, task %></td>
      <td><%= task.score %></td>
      <td><%= task.progress %></td>
      <td><%= task.finished %></td>
      <td><%= task.created_at %></td>
      <td><%= task.runner.name %></td>
    </tr>
  <% end %>
</table>

<% content_for :sidebar do %>
  <%= link_to 'Run Task', new_task_path(algorithm_id: @algorithm.id), class: 'btn btn-primary' %>
  <%= link_to 'Delete Algorithm', @algorithm, method: :delete, data: { confirm: 'Delete this algorithm will also delete all tasks, are you sure?' }, class: 'btn btn-danger' %>  
  <%= link_to 'Create Algorithm', new_algorithm_path, class: 'btn btn-success' %>
<% end %>

